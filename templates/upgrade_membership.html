{% extends 'layout.html' %}

{% block head %}
<title>Upgrade Membership | LP Gym</title>
{% endblock %}

{% block body %}

<style>
.upgrade-page {
  background: #0b0b0b;
  min-height: 100vh;
  padding-top: 120px;
  padding-bottom: 80px;
}

.upgrade-card {
  background: #141414;
  border-radius: 18px;
  padding: 40px;
  max-width: 520px;
  margin: auto;
  color: #fff;
  box-shadow: 0 25px 50px rgba(0,0,0,0.6);
}

.upgrade-card h2 {
  font-weight: 800;
  margin-bottom: 10px;
}

.upgrade-card p {
  color: #b5b5b5;
  font-size: 0.95rem;
}

.current-plan {
  background: #1c1c1c;
  border-radius: 14px;
  padding: 16px;
  margin: 25px 0;
  border: 1px solid #2a2a2a;
}

.current-plan span {
  color: #ff3b3b;
  font-weight: 700;
}

.form-group {
  margin-bottom: 25px;
}

.form-group label {
  font-weight: 600;
  margin-bottom: 8px;
  display: block;
}

.form-group select {
  width: 100%;
  padding: 14px 16px;
  background: #1c1c1c;
  border: 1px solid #333;
  border-radius: 12px;
  color: #fff;
  font-size: 0.95rem;
}

.form-group select:focus {
  outline: none;
  border-color: #ff3b3b;
  box-shadow: 0 0 0 2px rgba(255,59,59,0.25);
}

.btn-upgrade {
  background: linear-gradient(135deg, #ff3b3b, #d10927);
  border: none;
  color: #fff;
  font-weight: 700;
  padding: 15px;
  width: 100%;
  border-radius: 999px;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.btn-upgrade:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 25px rgba(255,59,59,0.35);
}

.back-link {
  display: block;
  text-align: center;
  margin-top: 25px;
  color: #aaa;
  text-decoration: none;
  font-size: 0.9rem;
}

.back-link:hover {
  text-decoration: underline;
}
</style>

<section class="upgrade-page">
  <div class="upgrade-card">

    <h2>Upgrade Membership</h2>
    <p>Unlock better facilities and training experience</p>

    <div class="current-plan">
      Current Plan:
      <span class="text-uppercase">{{ member.package }}</span>
      <br>
      <small class="text-secondary">
        Expires:
        {{ member.membership_expiry.strftime('%d %b %Y') if member.membership_expiry else 'N/A' }}
      </small>
    </div>

    <form method="POST" action="{{ url_for('upgrade_membership') }}">

      <div class="form-group">
        <label for="package">Choose New Package</label>
        <select name="package" id="package" required>
          <option value="">-- Select Package --</option>

          {% if member.package != 'basic' %}
          <option value="basic">Basic Plan — Rp 300K / month</option>
          {% endif %}

          {% if member.package != 'premium' %}
          <option value="premium">Premium Plan — Rp 500K / month</option>
          {% endif %}

          {% if member.package != 'elite' %}
          <option value="elite">Elite Plan — Rp 900K / month</option>
          {% endif %}
        </select>
      </div>

      <button type="submit" class="btn-upgrade">
        Upgrade Now
      </button>

    </form>

    <a href="{{ url_for('dashboard') }}" class="back-link">
      ← Back to Dashboard
    </a>

  </div>
</section>

{% endblock %}
